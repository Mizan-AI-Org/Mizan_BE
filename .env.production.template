# Production Environment Variables for Mizan Backend
# Copy this file to .env.production and fill in the values on EC2

# =============================================================================
# DJANGO SETTINGS
# =============================================================================
SECRET_KEY=your-secure-secret-key-generate-with-openssl-rand-hex-32
DEBUG=False
ALLOWED_HOSTS=3.64.55.137,api.heymizan.ai,localhost

# =============================================================================
# DATABASE (RDS PostgreSQL)
# =============================================================================
POSTGRES_DB=mizan
POSTGRES_USER=mizan_user
POSTGRES_PASSWORD=your-rds-password
POSTGRES_HOST=your-rds-endpoint.rds.amazonaws.com
POSTGRES_PORT=5432

# =============================================================================
# REDIS & CELERY (Managed by Docker Compose, use service name 'redis')
# =============================================================================
REDIS_HOST=redis
CELERY_BROKER_URL=redis://redis:6379/0
CELERY_RESULT_BACKEND=redis://redis:6379/1
CELERY_TASK_ALWAYS_EAGER=False

# =============================================================================
# EMAIL (Zoho Mail SMTP)
# =============================================================================
# Recommended:
# - TLS:  smtp.zoho.com :587  (EMAIL_USE_TLS=True)
# - SSL:  smtp.zoho.com :465  (EMAIL_USE_SSL=True)
EMAIL_HOST=smtp.zoho.com
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_USE_SSL=False
EMAIL_HOST_USER=sales@heymizan.ai
EMAIL_HOST_PASSWORD=your-zoho-app-password
DEFAULT_FROM_EMAIL=sales@heymizan.ai

# =============================================================================
# WHATSAPP CLOUD API
# =============================================================================
WHATSAPP_PHONE_NUMBER_ID=930508853476059
WHATSAPP_ACCESS_TOKEN=EAARNWzw0MMYBQ...your-full-token
WHATSAPP_API_VERSION=v22.0
WHATSAPP_BUSINESS_ACCOUNT_ID=1353791455957400
WHATSAPP_VERIFY_TOKEN=mizan-whatsapp-token-20260105
# For staff activation wa.me link: use the actual WhatsApp number in E.164 digits (no +). Do NOT use WHATSAPP_PHONE_NUMBER_ID here.
WHATSAPP_ACTIVATION_WA_PHONE=212784476751

# =============================================================================
# LUA AGENT INTEGRATION
# =============================================================================
LUA_API_KEY=fe0d0ad8-58b1-4d35-a8ce-3b0d9c0b3ce7
LUA_AGENT_ID=baseAgent_agent_1762796132079_ob3ln5fkl
LUA_USER_EVENTS_WEBHOOK=https://webhook.heylua.ai/baseAgent_agent_1762796132079_ob3ln5fkl/77f06520-d115-41b1-865e-afe7814ce82d
LUA_USER_AUTHENTICATION_WEBHOOK=https://webhook.heylua.ai/baseAgent_agent_1762796132079_ob3ln5fkl/df2d840c-b80e-4e6b-98d8-af4e95c0d96a
LUA_WEBHOOK_API_KEY=mizan-agent-webhook-secret-2026

# =============================================================================
# OPENAI (For AI features)
# =============================================================================
OPENAI_API_KEY=sk-proj-...your-key

# =============================================================================
# STRIPE (Billing)
# =============================================================================
STRIPE_SECRET_KEY=
STRIPE_PUBLISHABLE_KEY=
STRIPE_WEBHOOK_SECRET=

# =============================================================================
# SQUARE POS (OAuth + Webhooks)
# =============================================================================
# Use 'production' for live accounts or 'sandbox' for testing.
SQUARE_ENV=production
SQUARE_APPLICATION_ID=
SQUARE_APPLICATION_SECRET=
# Must match the redirect URL configured in Square Developer Dashboard.
# Example: https://api.heymizan.ai/api/settings/square/oauth/callback/
SQUARE_REDIRECT_URI=
# Comma-separated scopes; keep minimal.
SQUARE_SCOPES=PAYMENTS_READ,ORDERS_READ,ITEMS_READ,MERCHANT_PROFILE_READ
SQUARE_API_VERSION=2024-01-18
# Webhook signature key from Square webhook subscription.
SQUARE_WEBHOOK_SIGNATURE_KEY=
# Must match the exact notification URL configured in Square (used for signature verification).
# Example: https://api.heymizan.ai/api/pos/webhooks/square/
SQUARE_WEBHOOK_NOTIFICATION_URL=

# =============================================================================
# FIREBASE (Push Notifications)
# =============================================================================
FIREBASE_SERVICE_ACCOUNT_KEY={}

# =============================================================================
# FRONTEND URL
# =============================================================================
FRONTEND_URL=https://app.heymizan.ai

# =============================================================================
# SECURITY
# =============================================================================
SECURE_SSL_REDIRECT=True
